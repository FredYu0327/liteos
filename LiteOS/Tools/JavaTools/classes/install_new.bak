#! /usr/bin/env python
import threading
import os
import time
#20 and 29 removed


commtable = [8, 10, 12, 16, 18]
startid = 1
commonchannel = 21

class MyThread ( threading.Thread ):

    def __init__ ( self, port, nodeid, channel, networkname, nodename ):
        self.port = port
        self.nodeid = nodeid
        self.channel = channel
        self.networkname = networkname
        self.nodename = nodename
        threading.Thread.__init__ ( self )

    def run ( self ):

        cmdtemp = 'java tools.installer.installer ' + self.port +' '+ 'MIB520'+ ' '+ self.nodeid + ' '+ self.channel+ ' LiteOS.hex ' + self.networkname+ ' '+ self.nodename
        print 'For node '+self.nodeid+ ' the string is '+ cmdtemp
        fout = os.popen(cmdtemp)
        resultoutput = fout.read()
        print resultoutput
        
#total 9 threads
for i in range(1, 12):
    commport = 'COM'+str(commtable[i-1])
    MyThread(commport, str(startid+i-1), str(commonchannel), 'ssn01', 'node'+str(startid+i-1) ).start()
    #time.sleep(1)